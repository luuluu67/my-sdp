<div class="table-container" id="sgTable"></div>

    <a href="javascript:void(0)" onclick="openViber()" class="viber-btn">Viber မှ မေးမြန်းရန်</a>
</div>

<script>
const sgData = {
    new: [{s:18.0795, p:"15"}, {s:17.9356, p:"14.7"}, {s:17.7939, p:"14.6"}, {s:17.6544, p:"14.5"}, {s:17.5172, p:"14.4"}, {s:17.3820, p:"14.3"}, {s:17.2489, p:"14.2"}, {s:17.1178, p:"14.1"}, {s:16.9887, p:"14"}, {s:16.8616, p:"13.7"}, {s:16.7363, p:"13.6"}, {s:16.6129, p:"13.5"}, {s:16.4913, p:"13.4"}, {s:16.3714, p:"13.3"}, {s:16.2533, p:"13.2"}, {s:16.1369, p:"13.1"}, {s:16.0221, p:"13"}, {s:15.1595, p:"12"}],
    old: [{s:18.0486, p:"15"}, {s:17.9013, p:"14.7"}, {s:17.7565, p:"14.6"}, {s:17.6139, p:"14.5"}, {s:17.4737, p:"14.4"}, {s:17.3356, p:"14.3"}, {s:17.1997, p:"14.2"}, {s:17.0659, p:"14.1"}, {s:16.9342, p:"14"}, {s:15.9495, p:"13"}, {s:15.0729, p:"12"}]
};

function loadTab(type, el) {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    el.classList.add('active');
    let html = <table><tr><th>SG</th><th>ရွှေရည် (ပဲ.ရွေး)</th></tr>;
    sgData[type].forEach(i => { html += <tr><td>${i.s.toFixed(4)}</td><td>${i.p}</td></tr>; });
    document.getElementById('sgTable').innerHTML = html + "</table>";
}

function gToM() {
    let g = parseFloat(document.getElementById('inGram').value) || 0;
    if(g==0) { document.getElementById('gRes').innerText=""; return; }
    let tk = g/16.606;
    let k=Math.floor(tk), p=Math.floor((tk-k)*16), y=Math.floor(((tk-k)*16-p)*8), pt=Math.round((((tk-k)*16-p)*8-y)*10);
    document.getElementById('gRes').innerText = ရလဒ်: ${k} ကျပ် ${p} ပဲ ${y} ရွေး ${pt} ပွိုင့်;
}

function calc() {
    let mp = parseFloat(document.getElementById('mPrice').value), pr = parseFloat(document.getElementById('pur').value);
    let ky = parseFloat(document.getElementById('k').value)||0, pa = parseFloat(document.getElementById('p').value)||0, yw = parseFloat(document.getElementById('y').value)||0, po = parseFloat(document.getElementById('pt').value)||0;
    let totalK = ky + (pa/16) + (yw/128) + (po/1280);
    let total = Math.round(totalK * (mp/16) * pr);
    document.getElementById('res').innerHTML = <span style="font-size:1.3em; color:var(--gold);">${total.toLocaleString()} ကျပ်</span>;
}

function openViber() {
    // 959784243970 နေရာတွင် မင်း၏ ဖုန်းနံပါတ်အမှန်ကို ထည့်ပါ
    window.open("https://msng.link/o/?959784243970=vi", "_blank");
}

loadTab('new', document.querySelector('.tab'));
</script>
</body>
</html>
